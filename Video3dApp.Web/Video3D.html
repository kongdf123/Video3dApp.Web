<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>360-Video Preview</title>
	<style>
		#play-button { position: fixed; top: calc(50% - 1em); left: calc(50% - 2em); width: 4em; height: 2em; z-index: 10; }
	</style>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no">
	<script src="https://api.html5media.info/1.1.8/html5media.min.js"></script>
	<script src="Scripts/jquery.min.js"></script>
	<script src="Scripts/aframe-master.min.js"></script>
</head>
<body>
	<button id="play-button" style="display:none;">Play</button>
	<a-scene inspector="url: https://aframe.io/releases/0.3.0/aframe-inspector.min.js">
		<a-assets>
			<video id="video" src="UploadFiles/VRBrandUSA1.mp4" controls="controls" preload="auto" crossorigin="anonymous" autobuffer autoplay muted loop controls webkit-playsinline>
				<source src="UploadFiles/VRBrandUSA1.mp4" type="video/mp4" />
			</video>
		</a-assets>
		<a-videosphere src="#video" rotation="0 180 0"></a-videosphere>
	</a-scene>
	<script>
		$(function () {
			if (!AFRAME.utils.device.isIOS() && AFRAME.utils.device.isMobile()) {
				$("#play-button").show();
				$("#play-button").click(function () {
					$(this).hide();
					var videoBox = $("#video")[0];
					if (videoBox.paused) {
						videoBox.play();
					} else {
						videoBox.pause();
					}
				});
			}

			$("body").on("click", ".a-enter-vr-button", function () {
				var els = document.querySelectorAll('.video')
				Array.prototype.slice.call(els).forEach(function (el) {
					el.components.material.material.map.image.play()
				})
			});
		});
	</script>
</body>
</html>
